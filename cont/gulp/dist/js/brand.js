function contextHeight(){var e=0;return $.each(arguments,function(a,t){e+=1*$(t).height()}),document.documentElement.clientHeight-e}function getColor(e){var a="";switch(e){case"102701":a="#e5ae19";break;case"102702":a="#fd8317";break;case"102703":a="#5f7dff";break;case"102704":a="#ff3552";break;case"102705":a="#fd8317";break;case"102706":a="#ff3552";break;case"102707":a="#5f7dff";break;case"102708":a="#ff3552";break;case"102709":a="#fd8317";break;case"102710":a="#5f7dff";break;case"102711":a="#5f7dff";break;case"102712":a="#fd8317";break;case"102713":a="#ff3552";break;case"102714":a="#fd8317";break;default:a="#e51a9"}return a}$(function(){function e(a){WPBridge.callMethod("JsInvokeNative","wpEncrypt",{key:a,params:["zh",l]},function(a){codeValue=a.data.result,$.ajax({type:"post",url:wpCommon.Url+"/wpwl/brand/findAllBrand",async:!0,data:{oversea:codeValue[0].trim(),deviceUUID:codeValue[1]},timeout:1e4,success:function(a){if("AES加密解密失败"==a.errMsg)aseFail||($.ajax({type:"post",url:wpCommon.Url+"/wpwl/getKey",success:function(a){r=a.data,localStorage.setItem("key",a.data),e(r)}}),aseFail=!0);else{if(0==a.success)$(".loading").show(),$("#content").hide(),$(".middle img").attr("src","images/error_else.png"),$(".middle p").html("出错了，请稍后再试"),$(".all").html("页面异常"),wpCommon.viewShow();else try{if(a.success){var t="",s=a.data;for(var n in s){var l=s[n].brandVOList;if(0!=l.length){var r=s[n].breadTypeValue;t+="<div class='contents'>",t+='<div class="head">',t+='<p class="expensive" style="color:'+getColor(r)+'" ><img class="imgLeft" src="images/'+r+'.png" />'+s[n].breadTypeName+"</p></div>";for(var i in l)t+='<div class="cont">',t+='<dl class="dl" brandname="'+l[i].brandName+'" brandid="'+l[i].id+'">',t+=l[i].iconUrl?'<dt class="dt"><img class="brandImg" src="'+l[i].iconUrl+'" /></dt>':'<dt class="dt"><img class="brandImg" src="images/default_error2.png" /></dt>',t+='<dd class="dd">',t+="<div class='dds'><p class='brand'>"+l[i].brandName+"</p>",t+="<p class='num'>"+l[i].brandCount+"个宝贝</p>",t+="<p class='starTime'>最近更新："+l[i].gmtModified+"</p></div>",t+='<a href="javascript:;" class="right"></a>',"1"==l[i].isNewBrand?t+='<div class="new">NEW</div>':"0"==l[i].isNewBrand&&(t+=""),t+="</dd>",t+="</dl>",t+="</div>";t+="</div>"}}$(".list-good").html(t),Iscroll.scroll(),$("#content").on("click","dl",function(){var e=$(this);setTimeout(function(){e.find(".new").hide()},500);var a=$(this).attr("brandid"),t=$(this).attr("brandname");localStorage.setItem("brandid",a),localStorage.setItem("brandname",t),window.location.href="list.html?pageId=H5_A006&otherId="+a})}}catch(e){$(".loading").show(),$("#content").hide(),$(".middle img").attr("src","images/error_else.png"),$(".middle p").html("出错了，请稍后再试"),$(".all").html("页面异常")}wpCommon.viewShow()}},error:function(e,a,t){"timeout"==a&&($(".loading").show(),$("#content").hide(),$(".all").html("网络异常")),WPBridge.callMethod("JsInvokeNative","wpShowWebView",{},function(){}),WPBridge.callMethod("JsInvokeNative","wpDismissLoadingDialog",{},function(){}),WPBridge.callMethod("JsInvokeNative","wpNetError",{url:wpCommon.Url+"/h5/brand.html"},function(){})}})})}WPBridge.callMethod("JsInvokeNative","wpShowLoadingDialog",{},function(){}),window.aseFail="";var a,t=null,s=0,n=getUrlRequest(),l=n.deviceUUID||"";if(!l)try{WPBridge.callMethod("JsInvokeNative","wpGetDeviceUUID",{},function(e){l=e.data.result})}catch(e){l=""}$.ajax({url:wpCommon.Url+"/wpwl/getKey",type:"get",dataType:"json",success:function(n){a=n.data,localStorage.setItem("key",n.data),t=setInterval(function(){(l||s>=34)&&(clearInterval(t),e(a)),s++},30)}})}),$(function(){$(".goback").on("touchstart",function(){WPBridge.callMethod("JsInvokeNative","wpFinishH5",{},function(){})})}),$(function(){myScroll=new IScroll("#content",{click:!0,fixedScrollbar:!0,disableTouch:!1,disablePointer:!0,mouseWheel:!0,disableMouse:!1,scrollBars:!0})});var Iscroll={scroll:function(){var e=contextHeight("#header");$("#content").css({height:e+"px"}),myScroll.refresh()}};